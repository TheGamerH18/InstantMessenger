const version="Customized by Owner";let CANVAS,CTX,MESSAGES,renderInterval,MOUSE={x:null,y:null,radius:null},PARTICLE=[];export default class Particle{constructor({amount:e=1,color:o="black",radius:t=0,pos:{x:n=100,y:i=100}={x:100,y:100},collision:{collisionMouse:r=!1,collisionOther:a=!1,collisionBorder:s=!1}={collisionMouse:!1,collisionOther:!1,collisionBorder:!1},negativeX:l=!1,negativeY:c=!1,name:d=!1,type:C="hard",connect:{connectMouse:h=!1,connectColor:T=!1,connectNear:P="rgba(0,0,0,0.25)",connectRadius:A=0}={connectMouse:!1,connectColor:!1,connectNear:"rgba(0,0,0,0.25)",connectRadius:0}}=console.error("Failed to create new particle!")){MESSAGES=!1;let u=document.createElement("canvas");u.setAttribute("id","background"),document.querySelector("body").appendChild(u),CANVAS=document.querySelector("#background"),CTX=CANVAS.getContext("2d"),MOUSE={x:window.innerWidth/2,y:window.innerHeight/2,radius:0},CANVAS.height=document.querySelector("html").scrollHeight,CANVAS.width=document.querySelector("html").scrollWidth,CANVAS.style.position="absolute",CANVAS.style.zIndex="-1000",CANVAS.style.background="transparent",CANVAS.style.left="0px",CANVAS.style.top="0px",MESSAGES&&console.log("Version: "+version+"\nCanvas Name: "+canvasName+"\nRadius set to the Mouse: "+mouseRadius+"\nBackground: "+backgroundColor+"\nz-index: "+z_index+"\n\n");const E=["red","green","yellow","pink","purple","black","orange","orangered","blue","gold","violet"];let R=0;for(let u=0;u<e;u++){if(MESSAGES&&e>2e3&&0==R&&confirm("Unexcepted high number of Particle detected\n Are you sure to do this, your browser maybe stop working Correctly!")&&(R=1),this.color="random"==o?E[Math.round(10*Math.random())]:o,this.radius=t,this.x=Math.round(Math.random()*n),this.y=Math.round(Math.random()*i),this.collisionMouse=r,this.collisionOther=a,this.collisionBorder=s,1!=e?(0==Math.round(Math.random())?this.negativeX=!1:this.negativeX=!0,0==Math.round(Math.random())?this.negativeY=!1:this.negativeY=!0):(this.negativeX=l,this.negativeY=c),this.type=C,void 0===this.type&&(this.type="hard"),this.connectMouse=h,this.connectColor=T,this.connectNear=P,this.connectRadius=A,void 0===d)return console.error("Some variables werent given!"),null;this.name=d,PARTICLE.push({name:this.name,type:this.type,color:this.color,radius:this.radius,PosX:this.x,PosY:this.y,collisionMouse:this.collisionMouse,collisionOther:this.collisionOther,collisionBorder:this.collisionBorder,negativeX:this.negativeX,negativeY:this.negativeY,connectMouse:this.connectMouse,connectColor:this.connectColor,connectNear:this.connectNear,connectRadius:this.connectRadius,counter:0,avoidCounter:0})}}show(){for(let o=0;o<PARTICLE.length;o++){let t,n,i=PARTICLE[o].PosX,r=PARTICLE[o].collisionOther,a=PARTICLE[o].collisionBorder,s=PARTICLE[o].collisionMouse,l=PARTICLE[o].radius,c=PARTICLE[o].negativeX,d=PARTICLE[o].negativeY,C=PARTICLE[o].PosY,h=PARTICLE[o].counter;if(a?(i+l>window.innerWidth&&0==h?PARTICLE[o].negativeX=!0:i-l<0&&0==h?PARTICLE[o].negativeX=!1:i+l>window.innerWidth?(PARTICLE[o].negativeY=!0,PARTICLE[o].counter=h-1):i-l<0&&(PARTICLE[o].negativeY=!1,PARTICLE[o].counter=h-1),c&&0==h?t=i-0:c||0!=h?c?t=0+i:c||(t=i-0):t=0+i,C+l>window.innerHeight&&0==h?PARTICLE[o].negativeY=!1:C-l<0&&0==h?PARTICLE[o].negativeY=!0:C+l>window.innerHeight?(PARTICLE[o].negativeY=!0,PARTICLE[o].counter=h-1):C-l<0&&(PARTICLE[o].negativeY=!1,PARTICLE[o].counter=h-1),d&&0==h?n=0+.5*Math.round(Math.random())+C:d||0!=h?d?n=C-(0+.5*Math.round(Math.random())):d||(n=0+.5*Math.round(Math.random())+C):n=C-(0+.5*Math.round(Math.random()))):a||(t=i+0,n=C+0,i+l>window.innerWidth&&(t=Math.round(Math.random()*window.innerWidth*1.5)-window.innerWidth),n+l>window.innerHeight&&(n=Math.round(Math.random()*window.innerHeight)-window.innerHeight)),s){let e=MOUSE.x,i=MOUSE.y,a=MOUSE.radius,s=Math.sqrt((t-e)*(t-e)+(n-i)*(n-i));if(s<a+l&&(PARTICLE[o].avoidCounter=PARTICLE[o].avoidCounter+1,s<.25*a&&(PARTICLE[o].counter=0===h?1:0),t>e?t+=a/s*0:t<e&&(t-=a/s*0),n<i?n-=a/s*0:n>i&&(n+=a/s*0),PARTICLE[o].avoidCounter>=5&&!r)){1==Math.round(Math.random())?PARTICLE[o].negativeX=!0:PARTICLE[o].negativeX=!1,1==Math.round(Math.random())?PARTICLE[o].negativeY=!0:PARTICLE[o].negativeY=!1;let r=Math.round(Math.random()*window.innerHeight);n=Math.sqrt((r-e)*(r-e)+(r-i)*(r-i)<a+l/100*110)?r:r-(a+2*e),r=Math.round(Math.random()*window.innerWidth),Math.sqrt((r-e)*(r-e)+(r-i)*(r-i)<a+l/100*110)&&(t=r-(a+2*i)),PARTICLE[o].avoidCounter=0}}if(r)for(let e=0;e<PARTICLE.length;e++)if(e!=o&&PARTICLE[e].collisionOther){Math.sqrt((t-PARTICLE[e].PosX)*(t-PARTICLE[e].PosX)+(n-PARTICLE[e].PosY)*(n-PARTICLE[e].PosY))<PARTICLE[e].radius+l&&(t>PARTICLE[e].PosX?PARTICLE[o].negativeX=!1:t<PARTICLE[e].PosX&&(PARTICLE[o].negativeX=!0),n<PARTICLE[e].PosY?PARTICLE[o].negativeY=!1:n>PARTICLE[e].PosY&&(PARTICLE[o].negativeY=!0))}if(PARTICLE[o].connectNear)for(let e=0;e<PARTICLE.length;e++){PARTICLE[o].connectRadius+l+l>Math.sqrt((i-PARTICLE[e].PosX)*(i-PARTICLE[e].PosX)+(C-PARTICLE[e].PosY)*(C-PARTICLE[e].PosY))&&(CTX.beginPath(),CTX.moveTo(i,C),CTX.lineTo(PARTICLE[e].PosX,PARTICLE[e].PosY),CTX.strokeStyle=PARTICLE[o].connectColor,CTX.stroke())}if(PARTICLE[o].connectMouse){let e=PARTICLE[o].connectRadius;if(null!=e){e+l+l>Math.sqrt((i-MOUSE.x)*(i-MOUSE.x)+(C-MOUSE.y)*(C-MOUSE.y))&&(CTX.beginPath(),CTX.moveTo(i,C),CTX.lineTo(MOUSE.x,MOUSE.y),CTX.strokeStyle=PARTICLE[o].connectColor,CTX.stroke())}else CTX.beginPath(),CTX.moveTo(i,C),CTX.lineTo(MOUSE.x,MOUSE.y),CTX.strokeStyle=PARTICLE[o].connectColor,CTX.stroke()}if(CTX.beginPath(),"hard"==PARTICLE[o].type)CTX.fillStyle=PARTICLE[o].color;else{var e=CTX.createRadialGradient(i,C,0,i,C,l);e.addColorStop(0,PARTICLE[o].color),e.addColorStop(.2,PARTICLE[o].color),e.addColorStop(1,"transparent"),CTX.fillStyle=e}CTX.arc(i,C,l,0,2*Math.PI),CTX.fill(),PARTICLE[o].PosX=t,PARTICLE[o].PosY=n}}}